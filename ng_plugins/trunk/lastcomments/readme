# =========================================================================== #
# NG CMS // Плагины // Последние комментарии                                  #
# =========================================================================== #

Плагин позволяет отображать последние комментарии, оставленные на страницах сайта.
Основные особенности:
* Поддержка шаблонезатора TWIG
* Поддерживается два независимых режима отображения: на боковой панели и на 
  собственной странице плагина
* RSS-лента последних комментариев
* Настройка URL для собственной страницы и RSS-ленты
* Возможность отображать как текст комментария так и название новости (с собственой
  ссылкой) к которой сделан комментарий 
* Поддерживается механизм кеширования, что позволяет заметно уменьшить нагрузку
  на SQL, создаваемую плагином
* Возможность хранить шаблоны плагина как в папке самого плагина так и внутри
  шаблона сайта


Отображение плагина:
--------------------------------------------------------------------
* На боковой панели:
  1. Включите "генерацию боковой панели" (в настройках плагина)
  2. Добавьте в шаблон сайта main.tpl переменную {plugin_lastcomments}

* На страничке плагина:
  1. Включите "собственную страницу плагина" (в настройках плагина)
  2. Страница плагина доступна по следующему адресу на Вашем сайте: /plugin/lastcomments/
  3. Настройте, по собственному желанию, URL в настройках, раздел "Управление форматом ссылок" (не обязательно) 
     Плагин:    lastcomments
     Действие:  ''
     url:       /lastcomments.html

* На RSS-ленте
  1. Включите "RSS-ленту плагина" (в настройках плагина)
  2. Страница плагина доступна по следующему адресу на Вашем сайте: /plugin/lastcomments/rss/
  3. Настройте, по собственному желанию, URL в настройках, раздел "Управление форматом ссылок" (не обязательно) 
     Плагин:    lastcomments
     Действие:  rss
     url:       /lastcomments.xml

Возможности режима отображения: на боковой панели
--------------------------------------------------------------------
Для отображения используются 2 файла шаблонов:
* lastcomments.tpl - "оболочка" вокруг строк отображения комментариев
  Доступные переменные:
  {entries} - строки комметариев
  Доступные блоки
  [nocomments] ... [/nocomments] - который активен когда нет комментариев

* entries.tpl - шаблон строки комментария
  Доступные переменные:
  {link}   - ссылка на новость с комментарием
  {date}   - дата размещения комментария
  {author} - автор комментария
  {avatar} - аватар автора комментария
  {title}  - заголовок новости к которой писался комментарий
  {text}   - текст комментария
  {author_link} - ссылка на просмотр профиля пользователя
  {category_link} - список категорий (подсвеченный ссылками) новости, в которую 
   добавлен комментарий
  {comnum} - номер комментария
  {name} - автор ответа, 
  {answer} - текст ответа
  {avatar} - аватар, в случае отсутсвия выведет noavatar.gif
  {avatar_url} - ссылка на аватар.
  {alternating} - в зависимости от четности комментария принимает следующие значения: lastcomments_odd - четный комменнарий, lastcomments_even - не комментарий


  Доступные блоки:
  [profile] .. [/profile] - блок отображается в случае, если комментарий
   оставлен зарегистрированным пользователем
  [answer] ... [/answer] - который активен когда есть ответ.

Возможности режима отображения: на собственной странице плагина
--------------------------------------------------------------------
Для отображения используются 2 файла шаблонов:
* pp_lastcomments.tpl
* pp_entries.tpl

Набор параметров идентичен набору параметров в предыдущем разделе.