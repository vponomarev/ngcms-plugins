# =========================================================================== #
# NG CMS // ѕлагины //  орзина заказа                                         #
# =========================================================================== #

 ѕлагин "корзина заказа" позвол€ет сделать из NGCMS небольшой интернет-магазин.
¬ своей работе плагин использует плагины:
* xfields - дл€ формировани€ списка товаров, доступного к заказу
* feedback - дл€ заполнени€ данных о заказе и отправки самого заказа 
  администраторам/менеджерам сайта


ќсновные шаги дл€ настройки/использовани€ плагина:
==== XFields ====
1. Ќеобходимо определить дл€ каких записей будет отображатьс€ ссылка "добавить в корзину"
1.1. ƒл€ всех новостей
1.2. “олько дл€ тех новостей в которых есть выбранное вами доп. поле и его значение отлично от нул€
2. —оздать поле в котором будет хранитьс€ стоимость 1 единицы

==== Feedback ====
1. —оздать форму, котора€ будет использоватьс€ при формировании заказа (режим рассылки - HTML)
[ == текуща€ верси€ отправл€ет заказ только на указанные в форме email'ы, отправка копии заказа его автору - невозможна == ]

==== Basket =====
1. Ќастроить услови€ активации
2. ¬ыбрать форму обратной св€зи

==== Ўаблоны =====
> “екст email нотификации:
¬ шаблоне plugins/feedback/tpl/mail.html.tpl добавить в нужное место переменную {{ plugin_basket }}

> —обственные шаблоны плагина лежат в templates/default/plugins/basket/

> ¬ mail.tpl доступна переменна€ {plugin_basket}, она заполн€етс€ из шаблона плагина total.tpl

> ¬ news.short.tpl и news.full.tpl доступно:
блок [basket]..[/basket] (отображаетс€ при возможности положить этот товар в конзину)
переменна€ {basket_link} со ссылкой на URL добавлени€ товара в корзину

** плагин добавл€ет свою js библиотеку basket.js, она позвол€ет добавл€ть товары в корзину через AJAX
пример правильного кода дл€ добавлени€:
[basket]<a href="#" onclick="rpcBasketRequest('plugin.basket.manage', {'action': 'add', 'ds':1,'id':{news-id},'count':1}); return false;">¬ корзину</a>[/basket]
